<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>tvc</title>
<script src="scripts/z80.js"></script>
<script src="scripts/tvc.js"></script>
<script type="text/javascript">
	var tvc;
	function startEmu() {
		canvas = document.getElementById('tvc');
		ctx = canvas.getContext('2d');

		tvc = new TVCModule.TVC(ctx);

		var oReq = new XMLHttpRequest();
		oReq.open("GET", "TVC_SYS.ROM", true);
		oReq.responseType = "arraybuffer";
		oReq.onload = function (oEvent) {
			var arrayBuffer = oReq.response;
			  if (arrayBuffer) {
				var byteArray = new Uint8Array(arrayBuffer);
				tvc.addRom("SYS", byteArray);
			  }
		var oReq2 = new XMLHttpRequest();
		oReq2.open("GET", "TVC_EXT.ROM", true);
		oReq2.responseType = "arraybuffer";
		oReq2.onload = function (oEvent) {
			var arrayBuffer2 = oReq2.response;
			  if (arrayBuffer2) {
				var byteArray2 = new Uint8Array(arrayBuffer2);
				tvc.addRom("EXT", byteArray2);
				tvc.run();
			  }
		};
		oReq2.send(null);
		};
		oReq.send(null);
	};
</script>
    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>
</head>
<body onload="startEmu();">
<canvas id="tvc" width="640" height="480"></canvas>
</body>
</html>
